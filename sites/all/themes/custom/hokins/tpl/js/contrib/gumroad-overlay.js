function receiveMessage(t){if(document.getElementById(Gumroad.activeIframeId)&&"0"==document.getElementById(Gumroad.activeIframeId).getAttribute("src").indexOf(t.origin)){var e=t.data.split(" ")[0];"close"==e&&Gumroad.close()}}var Gumroad=Gumroad||{urlBlackList:["/signup","/login","/logout","/invite","/admin","/settings","/library","/following","/customers","/customers_switch_product","/imported_customers","/purchases","/users","/demo","/products","/dashboard","/analytics","/audience","/balance","/confirm","/crossdomain","/api","/developers","/api","/partnershyp","/mobile","/films","/ping","/webhooks","/revenue_share","/jobs","/team","/press","/terms","/terms_v2","/privacy","/blog-posts","/how-it-works","/overlay","/embed","/modal","/button","/next-steps","/charge","/charge_data","/CHARGE","/examplify","/deck","/thank-you","/resource-center","/guide","/integrations"],init:function(){if(!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i))&&document.addEventListener){var t=document.createElement("style"),e='.gumroad-button { background-color: white !important; background-image: url(https://gumroad.com/button/button_bar.jpg) !important; background-repeat: repeat-x !important; border-radius: 4px !important; box-shadow: rgba(0, 0, 0, .4) 0 0 2px !important; color: #999 !important; display: inline-block !important; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important; font-size: 16px !important; font-weight: 500 !important; font-style: normal !important; line-height: 50px !important; padding: 0 15px !important; text-shadow: none !important; text-decoration: none !important; }';t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t);for(var a=document.getElementsByClassName("gumroad-button"),o=0;o<a.length;o++){var i=a[o],r=document.createElement("span");r.setAttribute("style","background-image: url(https://gumroad.com/button/button_logo.png) !important; background-size: cover !important; height: 17px !important; width: 16px !important; display: inline-block !important; margin-bottom: -3px !important; margin-right: 15px !important;"),i.insertBefore(r,i.firstChild)}Gumroad.body=document.body,Gumroad.development=document.getElementById("modal-p")&&"true"==document.getElementById("modal-p").getAttribute("data-gumroad-development"),Gumroad.staging=document.getElementById("modal-p")&&"true"==document.getElementById("modal-p").getAttribute("data-gumroad-staging"),Gumroad.test=document.getElementById("modal-p")&&"true"==document.getElementById("modal-p").getAttribute("data-gumroad-test"),Gumroad.domain=Gumroad.development?"http://local.host:3333":"https://gumroad.com",Gumroad.domain=Gumroad.staging?"https://staging.gumroad.com":Gumroad.domain,Gumroad.domain=Gumroad.test?document.getElementById("modal-p").getAttribute("data-gumroad-testing-root-path"):Gumroad.domain,Gumroad.create('<div id="iframe_loading_indicator" style="position: fixed; z-index: 2000; color: white; top: 50%; left: 50%; margin-top: -32px; margin-left: -32px; text-align: center; height: 64px; width: 64px; background: rgba(0, 0, 0, 1); border-radius: 10px; display: none;"><img src="'+Gumroad.domain+'/overlay-loader.gif" width="32" height="32" style="position: absolute; top: 50%; margin-top: -16px; left: 50%; margin-left: -16px; width: 32px !important; height: 32px !important; padding: 0 !important;"/></div>'),Gumroad.loadingIndicatorId="iframe_loading_indicator",Gumroad.loadingIndicator=document.getElementById(Gumroad.loadingIndicatorId),Gumroad.fadeDuration=1e3,Gumroad.links={};for(var n=document.getElementsByTagName("a"),d=Gumroad.development?["http://l.h:3333","http://local.host:3333/l"]:["http://gum.co/","https://gum.co/","https://gumroad.com/l/"],d=Gumroad.staging?["https://staging.gumroad.com/l/"]:d,d=Gumroad.test?[Gumroad.domain+"l/"]:d,m=new RegExp(Gumroad.domain+"/[^/]+$"),s=0;s<n.length;s++){var l=n[s],u=l.getAttribute("href"),c=!1;if(void 0!=u){for(var p=0;p<d.length;p++)0===u.lastIndexOf(d[p],0)&&1!=c&&(c=!0);if(c)new GumroadOverlay(l,"product");else if(m.test(u)){for(var g=!0,h=0;h<Gumroad.urlBlackList.length;h++)if(0===u.lastIndexOf(Gumroad.domain+Gumroad.urlBlackList[h],0)){g=!1;break}g&&new GumroadOverlay(l,"user")}}}}},create:function(t){var e=document.createDocumentFragment(),a=document.createElement("div");for(a.innerHTML="hack"+t;a.firstChild;)1===a.firstChild.nodeType?e.appendChild(a.firstChild):a.removeChild(a.firstChild);Gumroad.body.insertBefore(e,Gumroad.body.childNodes[0])},remove:function(t){return(elem=document.getElementById(t)).parentNode.removeChild(elem)},setOpacity:function(t,e){return null==t?!1:(t.style.display=0==e?"none":"block",t.style.opacity=e,t.style.MozOpacity=e,t.style.KhtmlOpacity=e,void(t.style.filter="alpha(opacity="+100*e+");"))},fadeOut:function(t){var e=document.getElementById(t),a=1,o=setInterval(function(){a-=100/Gumroad.fadeDuration,Gumroad.setOpacity(e,a),0>=a&&(Gumroad.setOpacity(e,0),e.style.display="none",clearInterval(o))},Gumroad.fadeDuration/100)},fadeIn:function(t){var e=document.getElementById(t),a=0,o=setInterval(function(){a+=100/Gumroad.fadeDuration,Gumroad.setOpacity(e,a),a>=1&&(Gumroad.setOpacity(e,1),clearInterval(o),e.contentWindow.focus())},Gumroad.fadeDuration/100)},newEvent:function(t,e,a,o){var i=o?function(t){a.apply(o,[t])}:a;document.addEventListener?t.addEventListener(e,i,!1):document.attachEvent&&t.attachEvent("on"+e,i)},removeEvent:function(t,e,a){document.removeEventListener?t.removeEventListener(e,a,!1):document.detachEvent&&t.detachEvent(e,a)},cancelEvent:function(t){t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1},showLoadingIndicator:function(){Gumroad.setOpacity(Gumroad.loadingIndicator,.6)},hideLoadingIndicator:function(){Gumroad.loadingIndicator!==!1&&Gumroad.setOpacity(Gumroad.loadingIndicator,0)},stopPreviews:function(){document.getElementById(Gumroad.activeIframeId).contentWindow.postMessage("stopPreviews","*")},close:function(t){return void 0!==t&&Gumroad.cancelEvent(t),Gumroad.activeIframeId&&(Gumroad.stopPreviews(),Gumroad.fadeOut(Gumroad.activeIframeId),Gumroad.hideLoadingIndicator()),Gumroad.activeIframeId=!1,!1}};GumroadOverlay=function(t,e){var a=t.getAttribute("href"),o=a.split("/"),i=a.split("#");this.el=t,this.id=o[o.length-1].split("?")[0].split("#")[0],this.wanted="",this.offerCode="",this.locale="",this.email="",this.gift="",this.type=e,this.hash=i.length>1?"#"+i[i.length-1]:"",(6==o.length&&-1!=a.indexOf("/l/")||5==o.length&&(-1!=a.indexOf("gum.co")||-1!=a.indexOf("l.h:")))&&(this.id=o[o.length-2],this.offerCode="/"+o[o.length-1]),this.iframeId="gumroad_"+this.type+"_"+this.id,a.split("?").length>1&&-1!=a.split("?")[1].lastIndexOf("wanted=true")&&(this.wanted="&wanted=true"),a.split("?").length>1&&-1!=a.split("?")[1].lastIndexOf("locale=")&&(this.locale="&locale="+a.split("locale=")[1]),a.split("?").length>1&&-1!=a.split("?")[1].lastIndexOf("email=")&&(this.email="&email="+a.split("email=")[1]),a.split("?").length>1&&-1!=a.split("?")[1].lastIndexOf("gift=true")&&(this.gift="&gift=true"),Gumroad.newEvent(this.el,"click",this.show,this)},GumroadOverlay.prototype={show:function(t){t&&Gumroad.cancelEvent(t),Gumroad.showLoadingIndicator();var e='style="position: fixed !important; overflow: scroll !important; z-index: 9999 !important; top: 0 !important; left: 0 !important; width: 100% !important; height: 100% !important; border: none !important; display: none; margin: 0 !important; padding: 0 !important; zoom: 1;"';if(null==Gumroad.links[this.iframeId]){"product"==this.type?Gumroad.create('<iframe class="gumroad_iframe" id="'+this.iframeId+'" src="'+Gumroad.domain+"/l/"+this.id+this.offerCode+"?as_modal=true"+this.wanted+this.gift+this.locale+this.email+"&source_url="+window.location.href+"&referrer="+document.referrer+"&"+window.location.search.substring(1)+'" allowtransparency="true" '+e+"></iframe>"):"user"==this.type&&Gumroad.create('<iframe class="gumroad_iframe" id="'+this.iframeId+'" src="'+Gumroad.domain+"/"+this.id+"?as_modal=true"+this.locale+this.gift+this.email+"&source_url="+window.location.href+"&referrer="+document.referrer+"&"+window.location.search.substring(1)+this.hash+'" allowtransparency="true" '+e+"></iframe>"),Gumroad.links[this.iframeId]=!0;var a=document.getElementById(this.iframeId);Gumroad.setOpacity(a,.001),Gumroad.newEvent(a,"load",this.reallyShowIFrame,this)}else{var a=document.getElementById(this.iframeId);a.contentWindow.postMessage(this.hash,Gumroad.domain),this.reallyShowIFrame()}return!1},reallyShowIFrame:function(){Gumroad.activeIframeId=this.iframeId,Gumroad.hideLoadingIndicator(),Gumroad.fadeIn(this.iframeId)}},document.onkeydown=function(){27==event.keyCode&&Gumroad.close()},Gumroad.newEvent(window,"load",Gumroad.init),window.addEventListener?window.addEventListener("message",receiveMessage,!1):window.attachEvent("message",receiveMessage);